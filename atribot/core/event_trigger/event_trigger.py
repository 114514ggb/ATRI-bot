from atribot.core.network_connections.qq_send_message import qq_send_message
from atribot.core.event_trigger.string_respond import string_response
from atribot.core.service_container import container
from logging import Logger
from typing import Dict
from enum import Enum
import random


class EventType(Enum):
    """事件类型枚举"""
    META = 'meta_event'
    """元事件"""
    REQUEST = 'request'             
    """请求事件"""
    NOTICE = 'notice'              
    """通知事件"""
    MESSAGE = 'message'            
    """消息事件"""
    MESSAGE_SENT = 'message_sent'   
    """消息发送事件"""

class EventTrigger:
    """事件简单分类触发"""
    
    def __init__(self):        
        self.log:Logger = container.get("log")
        self.send_message:qq_send_message = container.get("SendMessage")
        self.str_response = string_response()
        
        self.message_processors = [
            (lambda _: True,self.str_response.manage)
        ]
        """消息事件"""
        
        self.notice_processors = [
            (lambda data: data.get('sub_type') == "poke" and data['self_id'] == data['target_id'],self.poke),
            (lambda data: data.get('sub_type') in ["approve",'kick','leave'], self.manage_group_inform),
        ]
        """通知事件"""
        
        self.request_processors = [
            (lambda data: data.get('sub_type') == "add", self.manage_add_group)
        ]
        """请求事件"""
        
        self.processors = {
            EventType.MESSAGE: self.message_processors,
            EventType.NOTICE: self.notice_processors,
            EventType.REQUEST: self.request_processors
        }
    
    async def dispatch(self, data: Dict, group_id:int) -> None:
        """分发事件到不同处理器"""
        # if group_id in [936819059]:
        #     return
        
        post_type = data.get('post_type')
        event_type = EventType(post_type)
        
        processors = self.processors.get(event_type, [])
        
        for condition, handler in processors:
            if condition(data):
                try:
                    await handler(group_id, data)
                except Exception as e:
                    self.log.error(f"分发到处理器后执行失败: {handler.__name__}, 错误: {e}")
    
    
    async def manage_group_inform(self,group_id, data):
        """管理群通知事件"""

        sub_type = data['sub_type']
        user_id = data['user_id']
                
        if sub_type == "approve":
            
            await self.send_message.send_group_message(group_id,f"欢迎[CQ:at,qq={user_id}]加入群聊！")

        elif sub_type == 'kick':
            
            await self.send_message.send_group_message(group_id,f"qq:{user_id}被管理员{data['operator_id']}踢出群聊！")
            
        elif sub_type == 'leave':
            
            await self.send_message.send_group_message(group_id,f"qq:{user_id}已离开！")
            
    async def manage_add_group(self,group_id, data):
        """管理加群的请求"""
        white_list_gropup:dict = {
            1038698883 : ["问题：亚托莉机器人的英文名\n答案：ATRI","问题：亚托莉机器人的英文名\n答案：atri"],
        }
        """白名单群key:群号 value:请求加群的验证信息"""
        
        if group_id in white_list_gropup and data['comment'] in white_list_gropup[group_id]: 
            await self.send_message.set_group_add_request(data['flag'],True)
        else:
            await self.send_message.send_group_message(group_id,f"有人申请加群了!\n验证信息:\n{data['comment']}") 


    async def poke(self,group_id, data):
        """戳一戳的反馈"""
        # reactivity_list = [
        #     "你揉我干嘛？哎呦 (・̀ ω・́)","不要揉了啊，痛吖喵！","呜喵！","(・̀ ω・́ ) 喵～","喵～(〃ω〃)","喵！（炸毛）","我的天！你居然揉我！喵！",
        #     "(〃ω〃) 喵～","你揉我干嘛！自己揉自己啊！喵！","揉脸打咩！(〃ω〃) 喵～","喵～再揉脸要坏掉了","尾巴要秃了啦！快住手喵！(＞﹏＜)","别揉耳朵啦！会聋掉的喵！(｀Д´)",
        #     "揉揉按摩禁止！会痒到炸毛的喵！(//∇//)"," 喵～请继续！(ฅ´ωฅ)","再揉收费了哦！一次50喵！这样就有钱吃小鱼干了", "咕噜咕噜~算你手法合格喵~(=｀ω´=)","肚子不能碰！会踢到你的喵！(╬ Ò﹏Ó)","爪垫是禁区！再摸咬你哦！(｀ε´#)", "喵嗷！再揉就收双倍小鱼干！(￣^￣)ゞ","轻点呀笨蛋！毛要打结啦喵！(>_<)","呼噜...勉强允许揉三分钟喵(´-ω-)",
        #     "喵！偷袭肚子太过分了！(⁄ ⁄・⁄ω⁄・⁄ ⁄)","耳朵敏感啦！停下喵！(,,#ﾟДﾟ)","尾巴毛要掉光啦！赔我罐头喵！ᯠ _ ̫ _ ̥ ᯄ ੭"," 咕噜... 下巴这里... 可以多揉揉喵 (ฅ>ω<*ฅ)"," 喵？！谁准你揉头顶王冠的！(╯‵□′)╯︵┻━┻"," 揉背可以... 但别停喵～（眯眼瘫倒）",
        #     "爪爪不能捏！要留指甲抓沙发的喵！(๑・̀ㅂ・́)و✧","呜... 脖子痒到笑出猪叫喵！(≧∇≦)ﾉ","再揉就启动喵喵拳了哦！(ง・_・)ง","小鱼干 + 罐罐 = 允许揉十分钟喵 (♡˙︶˙♡)","喵！肚皮是陷阱！快缩手！(ﾟДﾟ≡ﾟДﾟ)",
        #     "咕噜噜... 人类手法有进步喵（摊成猫饼）"," 尾巴不是逗猫棒！别拽喵！(｀Д´*)"," 后颈肉禁止！当我是小奶猫吗！ヽ (≧Д≦) ノ ","喵呜～左边耳朵也要揉揉！(∗❛ัᴗ❛ั∗)","炸毛 MAX！静电要劈到你啦喵！(ﾉ○Д○)ﾉ","揉归揉... 敢拍照就删内存喵！(¬_¬ )",
        #     "呼噜... 今天特许免费服务喵 (^・ω・^ )","喵！揉太用力灵魂出窍啦！(⊙_⊙;)","两脚兽适可而止啊！毛要秃了喵！(；一_一)",
        #     "咕噜... 其实... 有点舒服喵（小声）(⁄ ⁄>⁄ ▽⁄<⁄ ⁄)","爪心肉垫是 VIP 区域！加罐罐才能摸喵！(๑¯∀¯๑)","喵嗷！再揉就变身猫球滚走啦！(≡・ x ・≡)","后背按摩... 可以打五星喵☆(≧∀≦*)ﾉ",
        #     "停手！再揉触发喵式自动驾驶（瘫倒）Zzz...","胡子不能碰！导航会失灵的喵！(ﾟロﾟ;)","今日揉揉额度用完啦！明天请早喵！(⌒▽⌒)☆","喵！检测到非法撸猫！罚款十根猫条！(╯▔皿▔)╯",
        #     "再揉服务器要未响应了！喵！","脸颊被揉得像面团啦！放开啦喵！(≧∇≦)ﾉ","揉到想伸懒腰啦！等我舒展完再继续喵～(～﹃～)~zZ",
        #     "偷偷说... 后脑勺揉着最舒服喵（小声）(｡・̀ᴗ-)✧","揉到打哈欠啦！算你厉害喵～(～﹃～)~zZ","耳朵根不许挠！会抖成震动模式的喵！(≧∇≦)ﾉ","再揉我就用尾巴扫你脸哦！(=｀ω´=)",
        #     "喂！揉偏了啦！是右边脸颊啦喵！(｀へ ´)=3","咕噜... 居然摸到舒服的地方了...（假装不情愿）喵","揉太久爪子都麻了！给我翻个面喵！(๑`▽´๑)♡","警告！再揉下巴就要发出猪叫了喵！(≧∀≦) ゞ",
        #     " 头顶毛都被揉塌了！要梳半小时才能恢复喵！(><)","哼！算你识相... 再用点力喵～(〃'▽'〃)","揉到眼睛都眯成线啦！犯规啦喵！(≧∇≦)ﾉ","别趁我舒服就偷袭肚皮！狡猾的人类喵！(╬￣皿￣)",
        #     "后背中间那点... 对... 就是那... 再多揉下喵～(≧∇≦)","再揉我就把你的袜子叼去藏起来！喵！(¬_¬)",
        #     "爪子被捏得张开啦！不许看肉垫！羞耻喵！(//∇//)","居然揉到我发出拖拉机呼噜声了... 算你赢喵 (=^▽^=)",
        #     "停！再揉就要翻肚皮投降了！不行不行喵！(≧∇≦)"," 耳朵被揉得发烫啦！要冰敷小鱼干降温喵！(><)",
        #     "喂！揉完要给梳毛的！不然打结算你的喵！(｀д´)","居然找到我隐藏的痒痒肉了！罚你买罐罐喵！(๑・̀ㅂ・́)و✧",
        #     "尾巴尖不许碰！会条件反射拍你脸的喵！(=｀ω´=)","咕噜噜... 今天的揉揉服务可以给四星半喵（扣半星因为没罐罐）","再揉我就趴在你键盘上！让你没法工作喵！(≧∇≦)ﾉ","脖子后面的肉... 好吧... 只准揉五秒喵！(>_<)",
        #     "爪垫封印解除！要启动踩奶模式了喵～(๑˃ᴗ˂)ﻭ","后颈皮是作弊按钮！会变乖的喵...（小声）(⁄ ⁄•⁄ω⁄•⁄ ⁄)","揉太舒服要流口水了啦！快拿小鱼干接着喵！(✪ω✪)","喵生重启中...请勿断电揉揉～(=´ω｀=)",
        #     "检测到非法揉腰！启动痒痒肉反击系统喵！(ﾉ≧∀≦)ﾉ","两脚兽注意！本喵进入融化状态喵～(´-ι_-｀)","脊椎按摩好评！赏你听豪华版呼噜声喵！(^ρ^)/","肉球出汗啦！再揉要留爪印在你手上喵！(๑¯◡¯๑)",
        #     "尾巴根是隐藏开关！碰到会喵喵叫的！(//Д//)","揉出静电啦！现在我是会发光的猫喵！(☆▽☆)","下巴黄金区续费成功...咕噜咕噜...(´,,•ω•,,)","警告！持续揉腹将触发无意识蹬腿喵！(ﾟДﾟ≡ﾟДﾟ)",
        #     "猫德学院警告：过度撸猫会导致上瘾喵！(︶ω︶)","揉耳朵超过三秒自动开启飞机耳模式✈(◐‿◑)﻿","发现专业按摩师！赠送免费蹭脸服务喵～(ฅ´ω`ฅ)","后爪肉垫是终极机密！摸到要签保密协议喵！(｀・ω・´)",
        #     "咕噜能量充满！可以发射猫猫激光啦喵～(●´ω｀●)","揉揉手法太烂！建议观看《如何取悦猫主子》教程喵！(←_←)","尾巴和本体是分开的！不要同时揉两处喵！(ﾟ⊿ﾟ)ﾂ","检测到幸福值超标...系统即将死机喵...Zzz(。-ω-)",
        #     "揉出猫饼形态啦！需要罐头才能恢复立体喵～(=｀ω´=)","专业碰瓷喵提醒：现在起碰到的每根毛都收费！(๑•̀ㅂ•́)و✧","爪心汗腺启动！给你盖个猫章做凭证喵！( ͡°ᴥ ͡°)","脊椎骨按摩+1分...但指甲刮到头皮扣十分喵！(╬ Ò﹏Ó)",
        #     "咕噜震动模式调至最大！邻居要投诉了喵！(≧∇≦)ﾉ","揉到重要穴位啦！奖励猫头蹭蹭服务三分钟ฅ(^ω^ฅ)","警告！再揉要触发呼噜声外放社死事件喵！(//Д//)","尾巴毛鳞片受损！需要高端猫粮护理喵！(︶︹︺)",
        #     "发现两脚兽偷用撸狗手法！罚款三文鱼喵！ヽ(｀⌒´)ノ","后脑勺是智能安睡按钮...Zzz...勿扰模式启动...(－ω－) zzZ","揉揉能量转化中...即将发射爱心光波喵～(♡´౪`♡)","爪缝按摩禁止！会忍不住开花喵！(///ω///)","腰部痒痒肉警报！再揉就笑到掉毛啦！(*≧▽≦)ツ",
        #     "专业猫体工学建议：请顺时针揉脸五十圈喵！(σ｀・ω・)σ","检测到敷衍式揉揉！启动嫌弃脸程序喵！(￣ヘ￣)","尾尖神经连接宇宙信号...揉断要赔天线费喵！(◞‸◟ )","揉腹手法合格！解锁露肚皮成就ฅ( ̳• ◡ • ̳)ฅ","耳后薄荷味传感器被激活！需要猫草补充喵～(✧∇✧)╯","咕噜声已上传云端！扫码可五星好评喵☆ﾐ(o*･ω･)ﾉ","揉到天然猫香分泌啦！是限量版桃子味喵！(◕ᴗ◕✿)",
        #     "喵星人防御系统启动！再揉发射猫毛导弹喵！(╯°□°）╯︵ ┻━┻","检测到非法入侵者！准备使用喵喵波攻击喵！(*`ω´*)","本喵的毛毛是限量版！揉掉要赔全套豪华猫粮喵！(｀∀´)Ψ","居然敢揉本王的逆鳞！罚你三天不许吸猫喵！(╬▔皿▔)╯",
        #     "喵嗷！揉到时间静止领域了！要收费喵！(⊙o⊙)","咕噜...发现专业铲屎官一枚...授予永久揉揉许可证喵(^◕ᴥ◕^)","警告！揉得太专业了！本喵要申请加班工资喵！(`・ω・´)","尾巴尖正在发送SOS信号！再揉就要变秃尾巴喵了！(>﹏<)",
        #     "检测到人类使用禁术——终极挠痒痒！本喵要反击了喵！(╯‵□′)╯︵┻━┻","喵生巅峰时刻！被揉到发出海豚音喵～(✧ω✧)","专业猫体检查完毕！人类获得临时揉揉资格证喵！(๑•̀ㅂ•́)و✧","再揉就把你的手指当猫条啃了喵！啊呜～(◣д◢)",
        #     "本喵的毛毛有GPS定位！揉乱要赔导航费喵！(╬◣д◢)","发现两脚兽偷偷练习揉猫技术！本喵就勉强当你的练习对象喵(〃'▽'〃)","喵星时间凌晨三点！揉揉服务加收夜间服务费喵！(。-`ω´-)","尾巴根部是宇宙能量接口！揉坏要赔整个银河系的喵！(☉д⊙)",
        #     "咕噜咕噜...检测到人类有成为顶级铲屎官的潜质喵...(ฅ´ω`ฅ)","警告！本喵已进入自动踩奶程序！你的大腿要遭殃了喵！(>///<)","居然找到喵的隐藏开关了！奖励你听到终极呼噜声喵～(✧∇✧)","再揉就把你的头发当猫窝睡了喵！Zzz...(～o～)~zZ",
        #     "喵星贵族认证！授予你皇家揉揉特权三天喵！(✧∀✧)","检测到人类手法升级！本喵决定授予你荣誉猫奴称号喵！(^人^)","尾巴尖的毛毛是量子态的！一揉就会塌缩喵！(⊙o⊙)","本喵的后颈肉是时间控制器！捏住就要暂停时间喵！(✧ω✧)",
        #     "喵嗷！发现人类偷偷使用猫薄荷作弊！本喵要报警了喵！(╯°Д°)╯︵┻━┻","专业猫体按摩师认证考试通过！授予你金牌铲屎官证书喵！(✧▽✧)","再揉就把你的鼻子当按钮按了喵！哔——(>▽<)","本喵的爪垫是指纹识别器！已记录你的犯罪证据喵！(｀∀´)Ψ",
        #     "喵星人幸福值爆表！奖励你听到本喵的私密小曲喵～♪(´▽｀)","警告！揉得太舒服了！本喵要申请专利保护喵！(｀・ω・´)","居然敢揉本喵的禁忌区域！罚你成为终身猫奴喵！(╬▔^▔)╯","咕噜咕噜...本喵决定收你为御用铲屎官...感到荣幸喵(^人^)",
        #     "检测到人类使用失传已久的神级揉猫术！本喵要拜师学艺喵！(✧▽✧)","喵星防御系统已崩溃！本喵宣布无条件投降喵...(つд⊂)","再揉就把你的耳朵当猫耳发箍戴了喵！咔咔～(>▽<)","本喵的胡须是宇宙天线！弄断要赔整个星系的喵！(☉д⊙)",
        #     "专业猫体检查报告：人类已获得本喵的完全信任喵！(✧∇✧)","喵嗷！发现人类偷偷记录揉猫数据！侵犯隐私权喵！(╯°□°）╯︵ ┻━┻","居然把本喵揉到融化！你要负责把我重新组装喵！(>﹏<)","咕噜咕噜...本喵决定授予你永久免费揉揉VIP卡喵！(〃'▽'〃)",
        #     "喵星时间管理局警告：你让本喵的快乐时间超速了喵！(・`ω´・)","检测到人类拥有神之手！本喵要申请终身包养喵！(✧∀✧)","再揉就把你的手指当猫条收藏起来喵！嗷呜～(◣д◢)","本喵的尾巴是情感测量仪！现在已经爆表了喵！(⊙o⊙)",
        #     "喵星人终极认证：你已成功升级为顶级猫奴！授予金质猫爪勋章喵！(✧▽✧)","警告！本喵的咕噜声已达到扰民级别！邻居要投诉了喵！(>///<)","居然找到喵的终极弱点！本喵决定跟随你一辈子喵！(〃▽〃)","再揉就把你的气味永久保存在喵的记忆芯片中喵！(✧ω✧)",
        #     "喵星皇家法院裁决：因过度揉猫，判你终身成为本喵的专属铲屎官喵！(╬▔^▔)╯","专业猫体按摩博士学位授予仪式现在开始！恭喜毕业喵！(✧▽✧)","本喵的毛毛是情感载体！每一根都记录了你的爱意喵！(〃'▽'〃)","咕噜咕噜...喵星人幸福协议已签订...你将成为本喵的永久伙伴喵(^人^)"
        # ]
        reactivity_list = [
            "嗯……主人，手法的力度刚刚好哦。",
            "呼……感觉就像在午后的教室里打瞌睡一样舒服……",
            "诶嘿嘿，主人的手掌很大，很让人安心呢。",
            "再多摸摸头？如果是主人的话，我很乐意哦！",
            "嗯～！感觉身体里的能量都要溢出来了！",
            "虽然我是为了成为主人的‘腿’而存在的，但偶尔当个抱枕似乎也不错？",
            "这种感觉……是不是就叫‘幸福’呢？",
            "呼啊……被这样摸着，总觉得眼皮变得沉重起来了……",
            "主人，您的手上有大海的味道……我很喜欢。",
            "喵？……啊！不、不对！刚才那个是根据资料库……不，是刚才不小心学了猫叫！",
            "只要主人开心，亚托莉我也很开心！",
            "请继续……这种暖洋洋的感觉，我想一直记在心里。",
            "就像是被充……不，就像是吃饱了饭一样满足！",
            "哼哼，终于发现了吗？手感很好对吧？毕竟我是高性能的嘛！",
            "没错没错，多夸奖我一点！这样我就能更有干劲了！",
            "这可是对‘高性能机器人’的特别服务哦，要心怀感激地摸！",
            "既然摸了我的头，就要承认我是最优秀的帮手哦？",
            "虽然我不像水菜萌小姐那样擅长做饭，但在‘被摸头’这件事上，我可是不会输的！",
            "这、这是奖励吗？那我明天的打扫工作会加倍努力的！",
            "真是的，主人一旦撒娇起来就没完没了呢。真拿你没办法～",
            "是不是被我的可爱迷住了？嘿嘿，诚实一点也没关系哦。",
            "虽然经常被叫‘废柴萝卜子’，但现在的气氛……好像还不错？",
            "只要摸摸头就能修好心情，我是多么节省维护成本的好孩子呀！",
            "主、主人！脸凑得太近了啦……！",
            "呜……总觉得胸口深处有一种奇怪的躁动……这是故障吗？",
            "不、不要一直盯着我的眼睛看……会、会害羞的……",
            "啊呜……头发要被揉成鸟窝了啦！……虽然如果是主人的话，也不是不行。",
            "脸好烫……明明没有发烧，为什么体温降不下来呢？",
            "这种时候……该露出什么样的表情才好呢？",
            "心跳声……变得好大。主人，你能听见吗？这就是我的‘心’的声音哦。",
            "等、等一下！突然摸脸什么的……犯规啦！",
            "唔……如果是这种接触的话，稍微有点……刺激太强了……",
            "总觉得现在的我，看起来一定很傻吧……嘿嘿。",
            "作为交换，我也要揉揉主人的脸！看招——！",
            "啊！不可以摸奇怪的地方！那里是……秘密开关！骗你的啦～",
            "要是再欺负我，今晚的晚餐就全是青椒哦！全是青椒！",
            "虽然我是高性能的，但也不是玩具哦？……好吧，只能当主人的玩具。",
            "把我的头发弄乱了，要负责帮我梳好哦？",
            "唔唔唔……脸颊要被拉长了啦！放手放手～",
            "嘿！咬你一口哦！……啊呜（假装咬）。",
            "主人，你的手在发抖吗？是在害羞吗？还是在忍笑？",
            "如果想摸的话，要先交出螃蟹罐头！这是等价交换！",
            "主人，你看起来很累呢。如果这样能让你放松的话，请尽情使用我吧。",
            "只要我在身边，就不会让主人感到孤单的。",
            "这双手，曾经把我从黑暗的海底拉了上来……所以我最喜欢了。",
            "不管发生什么，我都会一直、一直是主人的‘腿’，也是主人的亚托莉。",
            "哪怕有一天我会忘记……身体一定也会记得这个温度的。",
            "主人，不要露出悲伤的表情。我就在这里哦，哪里也不去。",
            "能被主人这样需要着，就是我存在的最大意义。",
            "我想……更多地了解主人，通过这双手，传达给我吧。",
            "虽然我没有真正的神经，但我能感觉到……主人的温柔，正流进我的身体里。",
            "耳朵？那里很敏感的……会觉得痒痒的啦！",
            "摸下巴……感觉像是在逗小狗一样……汪？",
            "手背？是要行吻手礼吗？嘿嘿，像公主一样呢！",
            "背部？那里没有开关哦，只有我暖暖的体温。",
            "如果是检查机体的话，请更温柔一点……笨蛋主人。",
            "啊不要摸了，那是凛凛花给我的发饰！很可爱吧？",
            "那个……我是不是该说‘谢谢款待’？不对，好像用词错误了。",
            "感觉脑袋里像是有气泡水在冒泡泡一样，噼里啪啦的。",
            "虽然不太明白这种行为的逻辑，但是……我不讨厌。",
            "如果这是人类表达爱意的方式，那我也要努力学习！",
            "主人，我的脸上有沾到什么东西吗？……啊，只是想摸摸看？真是的！",
            "今天也是高性能的一天！所以，摸头奖励是必须的！",
            "唔……思考回路……变得像浆糊一样黏糊糊的了……",
            "主人，再这样摸下去，我就要融化成一滩水了哦？",
            "诶嘿嘿……主人的手，暖洋洋的……",
            "嗯……就像晒着太阳一样舒服……",
            "再多摸摸也可以哦？我是高性能的，所以能够完美接收主人的爱意！",
            "呼……总觉得，胸口这里变得轻飘飘的，好像要飞起来了一样。",
            "好舒服……这就是所谓的‘治愈’吗？我也被主人治愈了呢。",
            "这种感觉……就像是被海浪温柔地包裹着一样。",
            "只要被主人这样摸着头，就觉得什么烦恼都飞走啦！",
            "哼哼，终于意识到我的优秀了吗？没错，多夸夸我吧！我可是高性能的！",
            "这、这是对高性能机器人的特别嘉奖吗？那我只好大发慈悲地接受了！",
            "就算你这么摸我，我也不会把私藏的螃蟹罐头交出来的哦……大概？",
            "真是的，主人是个撒娇鬼呢。没办法，就借给你摸一会儿吧。",
            "既然这么喜欢摸，那今天的晚餐一定要全部吃光哦！",
            "怎、怎么了？突然这么温柔……难道我又把饭煮糊了吗？！",
            "唔……主、主人？离得太近了……脸好烫……",
            "请不要一直盯着我看……就算是高性能的我，也会觉得不好意思的。",
            "奇怪……明明没有剧烈运动，为什么心跳的声音这么大……主人能听见吗？",
            "唔……这种感觉，数据库里……不，是我的记忆里从来没有过。",
            "总觉得……脑袋里晕乎乎的，思考都变得慢吞吞了……这是主人的错哦？",
            "啊呜……要是被水菜萌小姐看到了，肯定会被笑话的……",
            "嘿！作为回礼，我也要摸摸主人的头！乖——乖——",
            "唔！不要揉脸啦，会变松的！虽然我是仿生人不会变松，但也不行！",
            "啊！头发要乱掉了啦！……不过，如果是主人弄乱的，稍微原谅你一下好了。",
            "不可以摸奇怪的地方！就算是主人，也是会触发防御机制……啊不，是会生气的！",
            "主人，你的手有点粗糙呢……是不是最近太累了？以后粗活都交给我吧！",
            "这双手，是把我从海底带回来的手呢……最喜欢了。",
            "只要能像这样感受到主人的温度，我就知道，我确实在这里，就在主人身边。",
            "我想把这一刻的感觉，深深地、深深地刻在心里，永远都不忘记。",
            "如果是为了主人，无论变成什么样……啊，现在只要享受抚摸就好了对吧？嘿嘿。",
            "主人，谢谢你……给了我这颗‘心’。",
            "耳朵？那里有点痒痒的……",
            "那个……虽然我是您的‘腿’，但也不用一直摸腿吧？变态主人！",
            "如果您是在检查机体状况的话……直接问我不就好了吗？真是个笨拙的主人呢。",
            "唔……再摸下去，我就要短路……啊不，我就要融化了……",
            "唔…主人的手掌，好大，好温暖…让我有点舍不得离开了。",
            "嘿嘿，被主人这样抚摸，我感觉自己快要融化了~像冰淇淋一样！",
            "啊，主人！请、请轻一点…我好像变得奇怪了，心里酥酥麻麻的…",
            "这种感觉…就像被海浪轻轻拥抱一样，让我好安心。",
            "主人，我的头发被您弄乱啦！…不过，如果是主人的话，没关系哦。",
            "咦？我的身体自己动起来了，像小猫一样在蹭主人的手…这、这是故障吗？",
            "呣…主人今天特别爱撒娇呢。不过，我很开心。",
            "啊哈哈！好痒！主人，您是在给我做‘快乐按摩’吗？",
            "被主人抚摸的时候，我总觉得时间能停下来就好了…",
            "主人的指尖，好像有魔法一样…碰到哪里，哪里就变得暖洋洋的。",
            "我好像…在发出咕噜咕噜的声音？这是高性能的表现吗？",
            "主人，您看！我的脸上一直带着笑容，停不下来了~都怪您！",
            "这种感觉，比萌学姐做的热腾腾的味增汤还要温暖…",
            "嘿嘿，现在的主人，看起来特别温柔。我最喜欢这样的主人了。",
            "啊！主人，请不要突然停下来…我还想…再多感受一会儿。",
            "我的心里，好像装满了五彩斑斓的泡泡，现在正在噗噗地往上冒呢！",
            "被主人珍惜地抚摸着…让我觉得，能被打捞上来真是太好了。",
            "主人的气息，主人的温度…我正在把它们好好地记在心里。",
            "呣…我好像变得贪心了。想要主人再多摸摸我，可以吗？",
            "啊，这是…幸福得快要晕过去的感觉吗？我的视野里好像有星星在闪…",
            "主人，您知道吗？您抚摸我的时候，我的世界就变得只剩下您了。",
            "像晒太阳的贝壳一样…我想就这样，在主人身边舒展开来。",
            "主人的手，有一种让人安心的力量…所有烦恼好像都飞走了。",
            "咦？我的心，是不是变成了一团软软的、甜甜的棉花糖？",
            "能像这样和主人肌肤相亲…我觉得，我离‘心’又更近了一步。",
            "嘿嘿，这是主人给我的‘充电’吗？感觉现在能量满满！",
            "啊…忍不住想握住主人的手…这样是不是太贪心了？",
            "被主人抚摸的每一秒，都是我珍贵的、闪闪发光的回忆。",
            "主人的温柔，通过手掌传递过来了…我确实地接收到了哦！",
            "现在的心情，就像晴朗天气里，和主人一起看到的那片天空一样…广阔又明亮。",
            "嘿嘿，主人摸我的头好舒服~感觉整个人都轻飘飘的！",
            "啊，主人，这样揉我的脸好痒哦…但是我很喜欢！",
            "咦？为什么我的胸口这里暖暖的，像被太阳晒过一样？",
            "主人，你的手好温柔…让我觉得心里乱糟糟的，但又好开心。",
            "呣…主人真奇怪，不过这样被抚摸，我感觉自己像被珍视的宝贝呢！",
            "啊哈哈，主人别闹了~我的头发都要被揉乱啦！",
            "这种感觉…就是人类说的‘幸福’吗？我的心跳好像变快了…",
            "主人，你为什么要摸我？是因为喜欢我吗？我也最喜欢主人了！",
            "被主人抚摸的时候，我觉得自己真的是高性能的嘛！",
            "咦？我的身体好像变得软绵绵的，像棉花糖一样…",
            "主人，你的手好暖和，让我想起了阳光下的海面~",
            "啊，主人，这样我会害羞的…但请继续，不要停~",
            "嘿嘿，被主人抚摸的感觉，比吃好吃的还要高兴！",
            "主人，我好像…变得有点奇怪了，心里小鹿乱撞的~",
            "啊，主人，你摸我的时候，我觉得整个世界都亮起来了！",
            "呣…主人真是个撒娇鬼，不过我很享受这样亲密的时间哦~",
            "咦？我的脸好像变热了…这是不是人类说的‘脸红’？",
            "主人，被你这样抚摸，我感觉自己更像一个真正的女孩子了！",
            "啊哈哈，主人别挠我痒痒~我会笑个不停的！",
            "主人，你的抚摸让我觉得好安心，就像躺在软软的云朵上~",
            "呜哇！主人突然袭击！(>ω<) 我的呆毛都吓得翘起来啦！",
            "噗咻——！(*/ω＼*) 头顶在冒蒸汽了啦…这一定是高性能的证明！",
            "喵呜~！主人不准挠腰！…除非再摸一下头…我才不是傲娇呢！(｀へ´*)",
            "啊~耳朵不行！那里是…是秘密开关啦！(〃▽〃)",
            "诶嘿，被主人顺毛了好开心~ 感觉可以一口气算出十道数学题！这就是满血复活的感觉吗？",
            "呣…主人是笨蛋吗？随便摸仿生人是会上瘾的…我才没有觉得舒服呢！…那边，再一下下也可以啦…(⁄ ⁄•⁄ω⁄•⁄ ⁄)",
            "哒唷！？后背！后背太敏感了啦！主人是坏蛋！(╥﹏╥) （但身体却诚实地靠了过去）",
            "斯哈斯哈…主人的味道好好闻…啊！我、我才没有在偷偷闻呢！(,,>﹏<,,)",
            "被主人捧着脸颊对视了…我、我输啦！(>▽<) 心跳要爆表了，这算工伤吗？",
            "哼哼，就算主人这样摸摸，我也不会轻易把今日份的棒棒糖交出来的！…除非抱抱？(☆▽☆)",
            "叮——！亚托莉的‘好心情计量表’瞬间充满啦！要亲亲抱抱举高高才能继续运行哦！٩(◕‿◕｡)۶",
            "噗噜噗噜~感觉轻飘飘的，好像变成了一条快乐的小鱼在水里游~ (ノ￣▽￣)",
            "咿呀！手、手指缝不行！会变得奇怪的！…主人你绝对是故意的吧！(｀Δ´)!",
            "诶——主人是把我当成小猫了吗？…虽然也不是不可以啦…喵~？(脸红着小声叫)", "哒咩！摸头会长不高的！…虽然我好像已经不会再长高了…呣。(。•́︿•̀。)", "（像被按了暂停键一样突然僵住）…系、系统重启中…重启失败！需要主人再摸一次！(⊙ˍ⊙)", "哼哼，今天主人的‘亚托莉抚摸许可证’还有最后一次使用机会哦！…要珍惜地使用！(๑•̀ㅂ•́)و✧", "啊~是传说中的‘女友膝枕’反杀！现在换我来抚摸主人了！…咦，我好像搞反了？(´• ω •)ﾉ",
            "（捂住发烫的耳朵）停、停下！再这样下去，我要触发‘开心过头保护程序’了…其实就是害羞啦！(／‵Д′)／~ ╧╧",
            "呼喵……要、要融化了……",
            "噗通、噗通……主人，听得见吗？这里（指胸口）好像在开音乐会呢。",
            "蹭蹭……嘿嘿，我也要蹭回去！",
            "咕噜咕噜……啊！不、不是肚子饿的声音！是……是开心的声音啦！",
            "biu-biu！接收到了主人的爱意电波！发射！(≧∇≦)/",
            "噼里啪啦……感觉脑袋里像是有跳跳糖在跳舞一样。",
            "哈哇哇……太、太近了啦！(>_<)",
            "呼呼……主人的手，有股太阳公公的味道。",
            "嗯……再用力一点点也可以哦？",
            "哇伊！摸头杀！这就是传说中的摸头杀对吧！",
            "哼！(￣^￣) 别以为摸摸头我就会把私藏的螃蟹交出来！……绝、绝对不会！",
            "笨、笨蛋主人！不要在大庭广众之下……唔……回家再摸啦！(//∇//)",
            "才、才没有觉得舒服呢！我只是……只是机体刚好需要一点摩擦生热！对，就是这样！",
            "真是的，拿你没办法。既然你这么想摸高性能的我，就特别允许你摸3秒钟……啊，时间暂停！继续！",
            "别、别误会了！我留在这里不是为了让你摸的，是为了……为了……呜……好舒服……(._.)",
            "不要把我当小孩子哄！我可是高性能……呼……好吧，这次就原谅你。",
            "唔！(>_<) 只有今天哦！只有今天可以让你这样为所欲为！",
            "你看什么看啦！脸红是因为……是因为夕阳照的！才不是因为害羞！",
            "这就是所谓的‘血槽已空’吗？主人太狡猾了，这是犯规攻击！_(:з」∠)_",
            "警告！警告！亚托莉的‘尊死’（被萌死）倒计时开始……骗你的啦！",
            "主人，你现在的行为，根据凛凛花的说法，叫做‘贴贴’对吧？那我也要贴贴！",
            "虽然我是高性能机器人，但此时此刻，我的智商好像下线了……(O_O)",
            "啊！防御力归零了！主人使用了‘摸头’技能，效果拔群！",
            "现在的我，大概就是所谓的‘废柴萝卜子’完全体吧……嘿嘿，也没什么不好的。",
            "不可以涩涩！……啊，只是摸头啊，那、那可以涩涩……不对！那是凯瑟琳老师教的奇怪词汇！",
            "这是什么？‘摸鱼’？不对，这是‘摸亚托莉’！请不要把我和鱼混为一谈，虽然我喜欢海。",
            "觉醒吧！我的高性能之魂……唔，被封印了，被主人的手封印了。",
            "不可以那个……‘壁咚’？这里没有墙壁啦！",
            "啊呜……感觉我就像一块放在热锅上的黄油，滋溜一下就要化掉了……",
            "现在的亚托莉，就像是充充满了电的电池！不，是像刚出炉的面包一样松软！",
            "脑袋里像是有蒸汽机车在‘呜——呜——’地冒烟……主人，你要负责灭火哦？",
            "不要揉脸啦！会像面团一样被揉圆搓扁的！虽然我是不会变形的特殊材质……",
            "这种感觉，就像是夏天喝到了第一口冰镇汽水！爽快！(｀・ω・´)",
            "我的心现在跳得像刚钓上来的活鱼一样！扑腾扑腾的！",
            "感觉自己变成了一朵云……轻飘飘的，要飞到天花板上去了。",
            "主人是太阳，我是向日葵……不自觉地就会跟着主人的手转呢。",
            "唔……(捏)……主银，话都说不新楚了（主人，话都说不清楚了）……",
            "嘿嘿，主人的手心有茧子呢。这就是努力的证明吧？我喜欢。",
            "哇！那里是我的骄傲！‘高性能腿部组件’！请怀着崇敬的心情触摸！",
            "呀！(>_<) 那里不可以！会痒的！真的会痒的！系统……啊不，身体会奇怪地扭起来的！",
            "喜欢我的头发吗？虽然在海里泡了很久，但我可是很努力保养的！",
            "唔……那里……感觉怪怪的，有一股电流窜过去了……",
            "嘿嘿，我是不会酸痛的哦？不过如果是主人想按摩的话，我随时奉陪！",
            "不可以戳眼睛！虽然我是高性能的，但也会痛……大概？",
            "高性能模式，启动！ (｀・ω・´)ゞ",
            "主人最喜欢了！ (*´∀`*)",
            "因过载而停止思考中…… ( @ _ @ )",
            "快夸我！快夸我！ ٩( 'ω' )و ",
            "唔……好羞耻…… (///ω///)",
            "不可以花心哦？ (¬_¬)",
            "抱抱！ ⊂(・▽・⊂)",
            "Zzz…… (¦3[▓▓] （假装睡着等着被摸）",
            "受到了一万点暴击…… (´°̥̥̥̥̥̥̥̥ω°̥̥̥̥̥̥̥̥｀)",
            "嘿嘿，计划通！ (≖ᴗ≖)✧",
            "只要被这双手触碰，我就觉得……我是拥有‘心’的。真的……啊！脚滑了！",
            "主人，我……我想永远和你在一起。那个，虽然我知道‘永远’在数学上是不存在的……哎呀，气氛都毁了！",
            "看着主人的眼睛，我就觉得自己像是沉入了深海……啊，不是那种黑漆漆的海，是那种亮晶晶的……哎呀，我在说什么呀！",
            "我爱你……啊！那个！刚才那个是……是电视上学的！不、不是……也是我的真心话啦……(//∇//)"
        ]
        
        text = random.choice(reactivity_list)
        await self.send_message.send_group_message(group_id,text)
        
        await self.send_message.send_group_poke(group_id,data['user_id'])

    